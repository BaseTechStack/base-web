import{_ as m,b}from"./DocsLayout.vue_vue_type_script_setup_true_lang-D4FaFzot.js";import{a as f,_ as y}from"./Card-dhBREXno.js";import{d as v,u as T,c as w,w as n,a as C,b as h,e as t,f as a,g as e,_ as D,r as k,o as g}from"./index-c5PrNzGP.js";const S={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},L={class:"mb-12"},E={class:"grid gap-4 md:grid-cols-2 mb-6"},N={class:"flex items-center space-x-2"},A={class:"flex items-center space-x-2"},M={class:"flex items-center space-x-2"},_={class:"flex items-center space-x-2"},P={class:"mb-12"},I={class:"space-y-4"},F={class:"flex items-center space-x-2"},R={class:"flex items-center space-x-2"},O={class:"flex items-center space-x-2"},G={class:"mb-12"},B={class:"space-y-6"},U={class:"flex items-center space-x-2"},H={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},q={class:"flex items-center justify-between mb-2"},W={class:"flex items-center space-x-2"},j={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},z={class:"flex items-center justify-between mb-2"},J={class:"mb-12"},V={class:"space-y-6"},K={class:"flex items-center space-x-2"},X={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},Y={class:"flex items-center justify-between mb-2"},$={class:"flex items-center space-x-2"},Q={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},Z={class:"flex items-center justify-between mb-2"},tt={class:"mb-12"},et={class:"space-y-6"},st={class:"flex items-center space-x-2"},nt={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},at={class:"flex items-center justify-between mb-2"},lt={class:"flex items-center space-x-2"},rt={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},ot={class:"flex items-center justify-between mb-2"},it={class:"mb-12"},pt={class:"space-y-6"},dt={class:"flex items-center space-x-2"},ut={class:"space-y-4"},gt={class:"grid gap-4 md:grid-cols-2"},ct={class:"space-y-2"},xt={class:"flex items-center space-x-2"},mt={class:"space-y-2"},bt={class:"flex items-center space-x-2"},ft={class:"space-y-2"},yt={class:"flex items-center space-x-2"},vt={class:"space-y-2"},Tt={class:"flex items-center space-x-2"},wt={class:"space-y-2"},Ct={class:"flex items-center space-x-2"},ht={class:"space-y-2"},Dt={class:"flex items-center space-x-2"},kt={class:"space-y-2"},St={class:"flex items-center space-x-2"},Lt={class:"space-y-2"},Et={class:"flex items-center space-x-2"},Nt={class:"flex items-center space-x-2"},At={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},Mt={class:"flex items-center justify-between mb-2"},_t={class:"mb-12"},Pt={class:"space-y-6"},It={class:"flex items-center space-x-2"},Ft={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},Rt={class:"flex items-center justify-between mb-2"},Ot={class:"mb-12"},Gt={class:"space-y-4"},Bt={class:"space-y-6"},Ut={class:"flex items-center space-x-2"},Ht={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},qt={class:"flex items-center justify-between mb-2"},Wt={class:"flex items-center space-x-2"},jt={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},zt={class:"flex items-center justify-between mb-2"},Yt=v({__name:"translation",setup(Jt){const{copy:c}=T(),i=async(u,s)=>{await c(u);const p=s.target,l=p.textContent;p.textContent="Copied!",p.classList.add("!text-green-400"),setTimeout(()=>{p.textContent=l,p.classList.remove("!text-green-400")},2e3)};return(u,s)=>{const p=f,l=D,o=y,d=b,x=k("prism");return g(),w(m,null,{default:n(()=>[C((g(),h("div",S,[s[96]||(s[96]=t("div",{class:"mb-8"},[t("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"},"Translation"),t("p",{class:"text-xl text-gray-600 dark:text-gray-300"}," Comprehensive internationalization (i18n) system for multi-language applications with flexible field translation ")],-1)),t("section",L,[s[20]||(s[20]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Overview",-1)),a(p,{color:"blue",variant:"soft",class:"mb-6"},{title:n(()=>s[10]||(s[10]=[e("🌍 Multi-Language Support",-1)])),description:n(()=>s[11]||(s[11]=[e(" Base Framework's translation system provides a flexible, database-driven internationalization solution. It supports both static text translation and dynamic field translation at the model level, allowing you to create truly multi-language applications. ",-1)])),_:1}),t("div",E,[a(o,null,{header:n(()=>[t("div",N,[a(l,{name:"i-lucide-database",class:"h-5 w-5 text-blue-500"}),s[12]||(s[12]=t("span",{class:"font-semibold"},"Database-Driven",-1))])]),default:n(()=>[s[13]||(s[13]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Store translations directly in your database with automatic loading and caching for optimal performance. ",-1))]),_:1,__:[13]}),a(o,null,{header:n(()=>[t("div",A,[a(l,{name:"i-lucide-layers",class:"h-5 w-5 text-green-500"}),s[14]||(s[14]=t("span",{class:"font-semibold"},"Field-Level Translation",-1))])]),default:n(()=>[s[15]||(s[15]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Translate specific model fields with automatic fallback to original values when translations are missing. ",-1))]),_:1,__:[15]}),a(o,null,{header:n(()=>[t("div",M,[a(l,{name:"i-lucide-zap",class:"h-5 w-5 text-purple-500"}),s[16]||(s[16]=t("span",{class:"font-semibold"},"Bulk Operations",-1))])]),default:n(()=>[s[17]||(s[17]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Efficiently update multiple translations at once with transaction-based bulk operations. ",-1))]),_:1,__:[17]}),a(o,null,{header:n(()=>[t("div",_,[a(l,{name:"i-lucide-api",class:"h-5 w-5 text-orange-500"}),s[18]||(s[18]=t("span",{class:"font-semibold"},"REST API",-1))])]),default:n(()=>[s[19]||(s[19]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Complete REST API for managing translations with filtering, pagination, and language-specific endpoints. ",-1))]),_:1,__:[19]})])]),t("section",P,[s[27]||(s[27]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Key Features",-1)),t("div",I,[a(o,null,{header:n(()=>[t("div",F,[a(l,{name:"i-lucide-check-circle",class:"h-5 w-5 text-green-500"}),s[21]||(s[21]=t("span",{class:"font-semibold"},"Translation Field Type",-1))])]),default:n(()=>[s[22]||(s[22]=t("ul",{class:"list-disc list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300"},[t("li",null,"Custom Field type that handles multiple languages automatically"),t("li",null,"JSON marshaling that adapts based on available translations"),t("li",null,"Database storage with original value preservation"),t("li",null,"Automatic translation loading and caching")],-1))]),_:1,__:[22]}),a(o,null,{header:n(()=>[t("div",R,[a(l,{name:"i-lucide-globe",class:"h-5 w-5 text-blue-500"}),s[23]||(s[23]=t("span",{class:"font-semibold"},"Module Integration",-1))])]),default:n(()=>[s[24]||(s[24]=t("ul",{class:"list-disc list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300"},[t("li",null,"Translatable interface for modules to define translated fields"),t("li",null,"Helper functions for retrieving module translations"),t("li",null,"Automatic response enrichment with translated content"),t("li",null,"Service layer integration for seamless usage")],-1))]),_:1,__:[24]}),a(o,null,{header:n(()=>[t("div",O,[a(l,{name:"i-lucide-settings",class:"h-5 w-5 text-purple-500"}),s[25]||(s[25]=t("span",{class:"font-semibold"},"Advanced Operations",-1))])]),default:n(()=>[s[26]||(s[26]=t("ul",{class:"list-disc list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300"},[t("li",null,"Bulk translation updates with transaction support"),t("li",null,"Language discovery and supported language listing"),t("li",null,"Model-specific translation management"),t("li",null,"Translation history and versioning support")],-1))]),_:1,__:[26]})])]),t("section",G,[s[34]||(s[34]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Translation Field Usage",-1)),t("div",B,[a(o,null,{header:n(()=>[t("div",U,[a(l,{name:"i-lucide-code",class:"h-5 w-5 text-blue-500"}),s[28]||(s[28]=t("span",{class:"font-semibold"},"Model Definition",-1))])]),default:n(()=>[t("div",H,[t("div",q,[s[29]||(s[29]=t("span",{class:"text-xs text-gray-400"},"models/post.go",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[0]||(s[0]=r=>i(`package models

import (
    "base/core/translation"
    "time"
    "gorm.io/gorm"
)

type Post struct {
    ID          uint                   \`gorm:"primarykey"\`
    CreatedAt   time.Time              
    UpdatedAt   time.Time              
    DeletedAt   gorm.DeletedAt         \`gorm:"index"\`
    
    // Translatable fields
    Title       translation.Field      \`gorm:"type:text"\`
    Content     translation.Field      \`gorm:"type:text"\`
    Description translation.Field      \`gorm:"type:text"\`
    
    // Regular fields
    AuthorID    uint                   \`gorm:"not null"\`
    Published   bool                   \`gorm:"default:false"\`
    ViewCount   int                    \`gorm:"default:0"\`
}`,r))}," Copy ")]),s[30]||(s[30]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-blue-400"},"package"),e(` models

`),t("span",{class:"text-blue-400"},"import"),e(` (
    `),t("span",{class:"text-green-400"},'"base/core/translation"'),e(`
    `),t("span",{class:"text-green-400"},'"time"'),e(`
    `),t("span",{class:"text-green-400"},'"gorm.io/gorm"'),e(`
)

`),t("span",{class:"text-blue-400"},"type"),e(),t("span",{class:"text-yellow-400"},"Post"),e(),t("span",{class:"text-blue-400"},"struct"),e(` {
    ID          `),t("span",{class:"text-purple-400"},"uint"),e("                   "),t("span",{class:"text-gray-400"},'`gorm:"primarykey"`'),e(`
    CreatedAt   time.Time              
    UpdatedAt   time.Time              
    DeletedAt   gorm.DeletedAt         `),t("span",{class:"text-gray-400"},'`gorm:"index"`'),e(`
    
    `),t("span",{class:"text-green-400"},"// Translatable fields"),e(`
    Title       translation.Field      `),t("span",{class:"text-gray-400"},'`gorm:"type:text"`'),e(`
    Content     translation.Field      `),t("span",{class:"text-gray-400"},'`gorm:"type:text"`'),e(`
    Description translation.Field      `),t("span",{class:"text-gray-400"},'`gorm:"type:text"`'),e(`
    
    `),t("span",{class:"text-green-400"},"// Regular fields"),e(`
    AuthorID    `),t("span",{class:"text-purple-400"},"uint"),e("                   "),t("span",{class:"text-gray-400"},'`gorm:"not null"`'),e(`
    Published   `),t("span",{class:"text-purple-400"},"bool"),e("                   "),t("span",{class:"text-gray-400"},'`gorm:"default:false"`'),e(`
    ViewCount   `),t("span",{class:"text-purple-400"},"int"),e("                    "),t("span",{class:"text-gray-400"},'`gorm:"default:0"`'),e(`
}`)])],-1))])]),_:1}),a(o,null,{header:n(()=>[t("div",W,[a(l,{name:"i-lucide-wrench",class:"h-5 w-5 text-green-500"}),s[31]||(s[31]=t("span",{class:"font-semibold"},"Working with Translation Fields",-1))])]),default:n(()=>[t("div",j,[t("div",z,[s[32]||(s[32]=t("span",{class:"text-xs text-gray-400"},"Basic Field Operations",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[1]||(s[1]=r=>i(`// Create a new post with original text
post := &Post{
    Title:       translation.NewField("Hello World"),
    Content:     translation.NewField("This is the original content"),
    Description: translation.NewField("Original description"),
}

// Set translations for different languages
post.Title.SetTranslation("es", "Hola Mundo")
post.Title.SetTranslation("fr", "Bonjour le Monde")

// Get translation for specific language with fallback
titleInSpanish := post.Title.GetTranslationOrOriginal("es")  // Returns: "Hola Mundo"
titleInGerman := post.Title.GetTranslationOrOriginal("de")   // Returns: "Hello World" (fallback)

// Check if translation exists
hasSpanish := post.Title.HasTranslation("es")  // Returns: true
hasGerman := post.Title.HasTranslation("de")   // Returns: false

// Get all available languages for a field
languages := post.Title.GetAvailableLanguages()  // Returns: ["es", "fr"]`,r))}," Copy ")]),s[33]||(s[33]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-green-400"},"// Create a new post with original text"),e(`
post := &Post{
    Title:       translation.NewField(`),t("span",{class:"text-green-400"},'"Hello World"'),e(`),
    Content:     translation.NewField(`),t("span",{class:"text-green-400"},'"This is the original content"'),e(`),
    Description: translation.NewField(`),t("span",{class:"text-green-400"},'"Original description"'),e(`),
}

`),t("span",{class:"text-green-400"},"// Set translations for different languages"),e(`
post.Title.SetTranslation(`),t("span",{class:"text-green-400"},'"es"'),e(", "),t("span",{class:"text-green-400"},'"Hola Mundo"'),e(`)
post.Title.SetTranslation(`),t("span",{class:"text-green-400"},'"fr"'),e(", "),t("span",{class:"text-green-400"},'"Bonjour le Monde"'),e(`)

`),t("span",{class:"text-green-400"},"// Get translation for specific language with fallback"),e(`
titleInSpanish := post.Title.GetTranslationOrOriginal(`),t("span",{class:"text-green-400"},'"es"'),e(")  "),t("span",{class:"text-gray-400"},'// Returns: "Hola Mundo"'),e(`
titleInGerman := post.Title.GetTranslationOrOriginal(`),t("span",{class:"text-green-400"},'"de"'),e(")   "),t("span",{class:"text-gray-400"},'// Returns: "Hello World" (fallback)'),e(`

`),t("span",{class:"text-green-400"},"// Check if translation exists"),e(`
hasSpanish := post.Title.HasTranslation(`),t("span",{class:"text-green-400"},'"es"'),e(")  "),t("span",{class:"text-gray-400"},"// Returns: true"),e(`
hasGerman := post.Title.HasTranslation(`),t("span",{class:"text-green-400"},'"de"'),e(")   "),t("span",{class:"text-gray-400"},"// Returns: false"),e(`

`),t("span",{class:"text-green-400"},"// Get all available languages for a field"),e(`
languages := post.Title.GetAvailableLanguages()  `),t("span",{class:"text-gray-400"},'// Returns: ["es", "fr"]')])],-1))])]),_:1})])]),t("section",J,[s[41]||(s[41]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Service Integration",-1)),t("div",V,[a(o,null,{header:n(()=>[t("div",K,[a(l,{name:"i-lucide-server",class:"h-5 w-5 text-blue-500"}),s[35]||(s[35]=t("span",{class:"font-semibold"},"Using Translation Service",-1))])]),default:n(()=>[t("div",X,[t("div",Y,[s[36]||(s[36]=t("span",{class:"text-xs text-gray-400"},"post/service.go",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[2]||(s[2]=r=>{i(`func (s *PostService) CreateWithTranslations(request *CreatePostRequest) (*Post, error) {
    // Create post with original content
    post := &Post{
        Title:       translation.NewField(request.Title),
        Content:     translation.NewField(request.Content),
        Description: translation.NewField(request.Description),
        AuthorID:    request.AuthorID,
        Published:   request.Published,
    }
    
    // Save to database
    if err := s.DB.Create(post).Error; err != nil {
        return nil, err
    }
    
    // Add translations if provided
    if request.Translations != nil {
        for language, translations := range request.Translations {
            translationMap := make(map[string]string)
            
            if translations.Title != "" {
                translationMap["title"] = translations.Title
            }
            if translations.Content != "" {
                translationMap["content"] = translations.Content
            }
            if translations.Description != "" {
                translationMap["description"] = translations.Description
            }
            
            // Bulk set translations using translation service
            err := s.TranslationService.BulkSetTranslations(
                "post", post.ID, language, translationMap,
            )
            if err != nil {
                s.Logger.Error("Failed to save translations", zap.Error(err))
            }
        }
        
        // Reload translations into the post fields
        s.LoadTranslationsForPost(post)
    }
    
    return post, nil
}`,r)})}," Copy ")]),s[37]||(s[37]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-blue-400"},"func"),e(" (s *PostService) "),t("span",{class:"text-yellow-400"},"CreateWithTranslations"),e("(request *CreatePostRequest) (*Post, "),t("span",{class:"text-purple-400"},"error"),e(`) {
    `),t("span",{class:"text-green-400"},"// Create post with original content"),e(`
    post := &Post{
        Title:       translation.NewField(request.Title),
        Content:     translation.NewField(request.Content),
        Description: translation.NewField(request.Description),
        AuthorID:    request.AuthorID,
        Published:   request.Published,
    }
    
    `),t("span",{class:"text-green-400"},"// Save to database"),e(`
    `),t("span",{class:"text-blue-400"},"if"),e(" err := s.DB.Create(post).Error; err != "),t("span",{class:"text-purple-400"},"nil"),e(` {
        `),t("span",{class:"text-blue-400"},"return"),e(),t("span",{class:"text-purple-400"},"nil"),e(`, err
    }
    
    `),t("span",{class:"text-green-400"},"// Add translations if provided"),e(`
    `),t("span",{class:"text-blue-400"},"if"),e(" request.Translations != "),t("span",{class:"text-purple-400"},"nil"),e(` {
        `),t("span",{class:"text-blue-400"},"for"),e(" language, translations := "),t("span",{class:"text-blue-400"},"range"),e(` request.Translations {
            translationMap := `),t("span",{class:"text-yellow-400"},"make"),e("("),t("span",{class:"text-blue-400"},"map"),e("["),t("span",{class:"text-purple-400"},"string"),e("]"),t("span",{class:"text-purple-400"},"string"),e(`)
            
            `),t("span",{class:"text-blue-400"},"if"),e(" translations.Title != "),t("span",{class:"text-green-400"},'""'),e(` {
                translationMap[`),t("span",{class:"text-green-400"},'"title"'),e(`] = translations.Title
            }
            `),t("span",{class:"text-blue-400"},"if"),e(" translations.Content != "),t("span",{class:"text-green-400"},'""'),e(` {
                translationMap[`),t("span",{class:"text-green-400"},'"content"'),e(`] = translations.Content
            }
            `),t("span",{class:"text-blue-400"},"if"),e(" translations.Description != "),t("span",{class:"text-green-400"},'""'),e(` {
                translationMap[`),t("span",{class:"text-green-400"},'"description"'),e(`] = translations.Description
            }
            
            `),t("span",{class:"text-green-400"},"// Bulk set translations using translation service"),e(`
            err := s.TranslationService.BulkSetTranslations(
                `),t("span",{class:"text-green-400"},'"post"'),e(`, post.ID, language, translationMap,
            )
            `),t("span",{class:"text-blue-400"},"if"),e(" err != "),t("span",{class:"text-purple-400"},"nil"),e(` {
                s.Logger.Error(`),t("span",{class:"text-green-400"},'"Failed to save translations"'),e(`, zap.Error(err))
            }
        }
        
        `),t("span",{class:"text-green-400"},"// Reload translations into the post fields"),e(`
        s.LoadTranslationsForPost(post)
    }
    
    `),t("span",{class:"text-blue-400"},"return"),e(" post, "),t("span",{class:"text-purple-400"},"nil"),e(`
}`)])],-1))])]),_:1}),a(o,null,{header:n(()=>[t("div",$,[a(l,{name:"i-lucide-download",class:"h-5 w-5 text-green-500"}),s[38]||(s[38]=t("span",{class:"font-semibold"},"Loading Translations",-1))])]),default:n(()=>[t("div",Q,[t("div",Z,[s[39]||(s[39]=t("span",{class:"text-xs text-gray-400"},"Loading Translations for Model Fields",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[3]||(s[3]=r=>{i(`func (s *PostService) LoadTranslationsForPost(post *Post) error {
    // Load translations for each translatable field
    fields := []struct {
        field *translation.Field
        name  string
    }{
        {&post.Title, "title"},
        {&post.Content, "content"},
        {&post.Description, "description"},
    }
    
    for _, f := range fields {
        err := s.TranslationService.LoadTranslationsForField(
            f.field, "post", post.ID, f.name,
        )
        if err != nil {
            s.Logger.Error("Failed to load translations", 
                zap.String("field", f.name), zap.Error(err))
        }
    }
    
    return nil
}

func (s *PostService) GetByID(id uint, language string) (*PostResponse, error) {
    var post Post
    if err := s.DB.First(&post, id).Error; err != nil {
        return nil, err
    }
    
    // Load all translations
    s.LoadTranslationsForPost(&post)
    
    // Convert to response with specific language
    response := &PostResponse{
        ID:          post.ID,
        AuthorID:    post.AuthorID,
        Published:   post.Published,
        CreatedAt:   post.CreatedAt,
        UpdatedAt:   post.UpdatedAt,
    }
    
    // Get translations for specific language or original
    if language != "" {
        response.Title = post.Title.GetTranslationOrOriginal(language)
        response.Content = post.Content.GetTranslationOrOriginal(language)
        response.Description = post.Description.GetTranslationOrOriginal(language)
    } else {
        response.Title = post.Title.String()
        response.Content = post.Content.String()
        response.Description = post.Description.String()
    }
    
    return response, nil
}`,r)})}," Copy ")]),s[40]||(s[40]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-blue-400"},"func"),e(" (s *PostService) "),t("span",{class:"text-yellow-400"},"LoadTranslationsForPost"),e("(post *Post) "),t("span",{class:"text-purple-400"},"error"),e(` {
    `),t("span",{class:"text-green-400"},"// Load translations for each translatable field"),e(`
    fields := []`),t("span",{class:"text-blue-400"},"struct"),e(` {
        field *translation.Field
        name  `),t("span",{class:"text-purple-400"},"string"),e(`
    }{
        {&post.Title, `),t("span",{class:"text-green-400"},'"title"'),e(`},
        {&post.Content, `),t("span",{class:"text-green-400"},'"content"'),e(`},
        {&post.Description, `),t("span",{class:"text-green-400"},'"description"'),e(`},
    }
    
    `),t("span",{class:"text-blue-400"},"for"),e(" _, f := "),t("span",{class:"text-blue-400"},"range"),e(` fields {
        err := s.TranslationService.LoadTranslationsForField(
            f.field, `),t("span",{class:"text-green-400"},'"post"'),e(`, post.ID, f.name,
        )
        `),t("span",{class:"text-blue-400"},"if"),e(" err != "),t("span",{class:"text-purple-400"},"nil"),e(` {
            s.Logger.Error(`),t("span",{class:"text-green-400"},'"Failed to load translations"'),e(`, 
                zap.String(`),t("span",{class:"text-green-400"},'"field"'),e(`, f.name), zap.Error(err))
        }
    }
    
    `),t("span",{class:"text-blue-400"},"return"),e(),t("span",{class:"text-purple-400"},"nil"),e(`
}

`),t("span",{class:"text-blue-400"},"func"),e(" (s *PostService) "),t("span",{class:"text-yellow-400"},"GetByID"),e("(id "),t("span",{class:"text-purple-400"},"uint"),e(", language "),t("span",{class:"text-purple-400"},"string"),e(") (*PostResponse, "),t("span",{class:"text-purple-400"},"error"),e(`) {
    `),t("span",{class:"text-blue-400"},"var"),e(` post Post
    `),t("span",{class:"text-blue-400"},"if"),e(" err := s.DB.First(&post, id).Error; err != "),t("span",{class:"text-purple-400"},"nil"),e(` {
        `),t("span",{class:"text-blue-400"},"return"),e(),t("span",{class:"text-purple-400"},"nil"),e(`, err
    }
    
    `),t("span",{class:"text-green-400"},"// Load all translations"),e(`
    s.LoadTranslationsForPost(&post)
    
    `),t("span",{class:"text-green-400"},"// Convert to response with specific language"),e(`
    response := &PostResponse{
        ID:          post.ID,
        AuthorID:    post.AuthorID,
        Published:   post.Published,
        CreatedAt:   post.CreatedAt,
        UpdatedAt:   post.UpdatedAt,
    }
    
    `),t("span",{class:"text-green-400"},"// Get translations for specific language or original"),e(`
    `),t("span",{class:"text-blue-400"},"if"),e(" language != "),t("span",{class:"text-green-400"},'""'),e(` {
        response.Title = post.Title.GetTranslationOrOriginal(language)
        response.Content = post.Content.GetTranslationOrOriginal(language)
        response.Description = post.Description.GetTranslationOrOriginal(language)
    } `),t("span",{class:"text-blue-400"},"else"),e(` {
        response.Title = post.Title.String()
        response.Content = post.Content.String()
        response.Description = post.Description.String()
    }
    
    `),t("span",{class:"text-blue-400"},"return"),e(" response, "),t("span",{class:"text-purple-400"},"nil"),e(`
}`)])],-1))])]),_:1})])]),t("section",tt,[s[48]||(s[48]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Module Integration",-1)),t("div",et,[a(o,null,{header:n(()=>[t("div",st,[a(l,{name:"i-lucide-puzzle",class:"h-5 w-5 text-blue-500"}),s[42]||(s[42]=t("span",{class:"font-semibold"},"Implementing Translatable Interface",-1))])]),default:n(()=>[t("div",nt,[t("div",at,[s[43]||(s[43]=t("span",{class:"text-xs text-gray-400"},"post/module.go",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[4]||(s[4]=r=>i(`package post

import (
    "base/core/module"
    "base/core/router"
    "base/core/emitter"
    "base/core/logger"
    "base/core/storage"
    "gorm.io/gorm"
)

type Module struct {
    module.DefaultModule
    DB         *gorm.DB
    Controller *PostController
    Service    *PostService
    Logger     logger.Logger
    Storage    *storage.ActiveStorage
}

// Implement Translatable interface
func (m *Module) TranslatedFields() []string {
    return []string{"title", "content", "description"}
}

func NewPostModule(db *gorm.DB, router *router.RouterGroup, log logger.Logger, emitter *emitter.Emitter, storage *storage.ActiveStorage) module.Module {
    service := NewPostService(db, emitter, storage, log)
    controller := NewPostController(service, storage)

    m := &Module{
        DB:         db,
        Service:    service,
        Controller: controller,
        Logger:     log,
        Storage:    storage,
    }

    return m
}`,r))}," Copy ")]),s[44]||(s[44]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-blue-400"},"package"),e(` post

`),t("span",{class:"text-blue-400"},"import"),e(` (
    `),t("span",{class:"text-green-400"},'"base/core/module"'),e(`
    `),t("span",{class:"text-green-400"},'"base/core/router"'),e(`
    `),t("span",{class:"text-green-400"},'"base/core/emitter"'),e(`
    `),t("span",{class:"text-green-400"},'"base/core/logger"'),e(`
    `),t("span",{class:"text-green-400"},'"base/core/storage"'),e(`
    `),t("span",{class:"text-green-400"},'"gorm.io/gorm"'),e(`
)

`),t("span",{class:"text-blue-400"},"type"),e(),t("span",{class:"text-yellow-400"},"Module"),e(),t("span",{class:"text-blue-400"},"struct"),e(` {
    module.DefaultModule
    DB         *gorm.DB
    Controller *PostController
    Service    *PostService
    Logger     logger.Logger
    Storage    *storage.ActiveStorage
}

`),t("span",{class:"text-green-400"},"// Implement Translatable interface"),e(`
`),t("span",{class:"text-blue-400"},"func"),e(" (m *Module) "),t("span",{class:"text-yellow-400"},"TranslatedFields"),e("() []"),t("span",{class:"text-purple-400"},"string"),e(` {
    `),t("span",{class:"text-blue-400"},"return"),e(" []"),t("span",{class:"text-purple-400"},"string"),e("{"),t("span",{class:"text-green-400"},'"title"'),e(", "),t("span",{class:"text-green-400"},'"content"'),e(", "),t("span",{class:"text-green-400"},'"description"'),e(`}
}

`),t("span",{class:"text-blue-400"},"func"),e(),t("span",{class:"text-yellow-400"},"NewPostModule"),e(`(db *gorm.DB, router *router.RouterGroup, log logger.Logger, emitter *emitter.Emitter, storage *storage.ActiveStorage) module.Module {
    service := NewPostService(db, emitter, storage, log)
    controller := NewPostController(service, storage)

    m := &Module{
        DB:         db,
        Service:    service,
        Controller: controller,
        Logger:     log,
        Storage:    storage,
    }

    `),t("span",{class:"text-blue-400"},"return"),e(` m
}`)])],-1))])]),_:1}),a(o,null,{header:n(()=>[t("div",lt,[a(l,{name:"i-lucide-help-circle",class:"h-5 w-5 text-green-500"}),s[45]||(s[45]=t("span",{class:"font-semibold"},"Using Translation Helper",-1))])]),default:n(()=>[t("div",rt,[t("div",ot,[s[46]||(s[46]=t("span",{class:"text-xs text-gray-400"},"Using Helper Functions",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[5]||(s[5]=r=>i(`// Get translated fields for a module
translatedFields := translation.GetTranslatedFields(postModule)
// Returns: ["title", "content", "description"]

// Get all translations for a model instance
helper := translation.NewHelper(translationService)
translations, err := helper.GetTranslationsForModel("post", 1, "es")
if err == nil {
    fmt.Println(translations)
    // Output: map["title":"Hola Mundo" "content":"Contenido en español"]
}

// Set a single translation
err = helper.SetTranslation("post", 1, "title", "Nuevo Título", "es")

// Bulk set multiple translations
translationMap := map[string]string{
    "title":       "Título en Español",
    "content":     "Contenido en Español",
    "description": "Descripción en Español",
}
err = helper.BulkSetTranslations("post", 1, "es", translationMap)

// Get available languages for a model
languages, err := helper.GetAvailableLanguages("post", 1)
// Returns: ["es", "fr", "de"]`,r))}," Copy ")]),s[47]||(s[47]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-green-400"},"// Get translated fields for a module"),e(`
translatedFields := translation.GetTranslatedFields(postModule)
`),t("span",{class:"text-gray-400"},'// Returns: ["title", "content", "description"]'),e(`

`),t("span",{class:"text-green-400"},"// Get all translations for a model instance"),e(`
helper := translation.NewHelper(translationService)
translations, err := helper.GetTranslationsForModel(`),t("span",{class:"text-green-400"},'"post"'),e(", "),t("span",{class:"text-purple-400"},"1"),e(", "),t("span",{class:"text-green-400"},'"es"'),e(`)
`),t("span",{class:"text-blue-400"},"if"),e(" err == "),t("span",{class:"text-purple-400"},"nil"),e(` {
    fmt.Println(translations)
    `),t("span",{class:"text-gray-400"},'// Output: map["title":"Hola Mundo" "content":"Contenido en español"]'),e(`
}

`),t("span",{class:"text-green-400"},"// Set a single translation"),e(`
err = helper.SetTranslation(`),t("span",{class:"text-green-400"},'"post"'),e(", "),t("span",{class:"text-purple-400"},"1"),e(", "),t("span",{class:"text-green-400"},'"title"'),e(", "),t("span",{class:"text-green-400"},'"Nuevo Título"'),e(", "),t("span",{class:"text-green-400"},'"es"'),e(`)

`),t("span",{class:"text-green-400"},"// Bulk set multiple translations"),e(`
translationMap := `),t("span",{class:"text-blue-400"},"map"),e("["),t("span",{class:"text-purple-400"},"string"),e("]"),t("span",{class:"text-purple-400"},"string"),e(`{
    `),t("span",{class:"text-green-400"},'"title"'),e(":       "),t("span",{class:"text-green-400"},'"Título en Español"'),e(`,
    `),t("span",{class:"text-green-400"},'"content"'),e(":     "),t("span",{class:"text-green-400"},'"Contenido en Español"'),e(`,
    `),t("span",{class:"text-green-400"},'"description"'),e(": "),t("span",{class:"text-green-400"},'"Descripción en Español"'),e(`,
}
err = helper.BulkSetTranslations(`),t("span",{class:"text-green-400"},'"post"'),e(", "),t("span",{class:"text-purple-400"},"1"),e(", "),t("span",{class:"text-green-400"},'"es"'),e(`, translationMap)

`),t("span",{class:"text-green-400"},"// Get available languages for a model"),e(`
languages, err := helper.GetAvailableLanguages(`),t("span",{class:"text-green-400"},'"post"'),e(", "),t("span",{class:"text-purple-400"},"1"),e(`)
`),t("span",{class:"text-gray-400"},'// Returns: ["es", "fr", "de"]')])],-1))])]),_:1})])]),t("section",it,[s[77]||(s[77]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"API Reference",-1)),t("div",pt,[a(o,null,{header:n(()=>[t("div",dt,[a(l,{name:"i-lucide-list",class:"h-5 w-5 text-blue-500"}),s[49]||(s[49]=t("span",{class:"font-semibold"},"Translation Endpoints",-1))])]),default:n(()=>[t("div",ut,[t("div",gt,[t("div",ct,[t("div",xt,[a(d,{color:"blue",variant:"soft",size:"xs"},{default:n(()=>s[50]||(s[50]=[e("GET",-1)])),_:1,__:[50]}),s[51]||(s[51]=t("code",{class:"text-sm"},"/translations",-1))]),s[52]||(s[52]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"List all translations with pagination and filtering",-1))]),t("div",mt,[t("div",bt,[a(d,{color:"green",variant:"soft",size:"xs"},{default:n(()=>s[53]||(s[53]=[e("POST",-1)])),_:1,__:[53]}),s[54]||(s[54]=t("code",{class:"text-sm"},"/translations",-1))]),s[55]||(s[55]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Create a new translation",-1))]),t("div",ft,[t("div",yt,[a(d,{color:"blue",variant:"soft",size:"xs"},{default:n(()=>s[56]||(s[56]=[e("GET",-1)])),_:1,__:[56]}),s[57]||(s[57]=t("code",{class:"text-sm"},"/translations/by-id/{id}",-1))]),s[58]||(s[58]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Get a specific translation by ID",-1))]),t("div",vt,[t("div",Tt,[a(d,{color:"orange",variant:"soft",size:"xs"},{default:n(()=>s[59]||(s[59]=[e("PUT",-1)])),_:1,__:[59]}),s[60]||(s[60]=t("code",{class:"text-sm"},"/translations/by-id/{id}",-1))]),s[61]||(s[61]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Update an existing translation",-1))]),t("div",wt,[t("div",Ct,[a(d,{color:"red",variant:"soft",size:"xs"},{default:n(()=>s[62]||(s[62]=[e("DELETE",-1)])),_:1,__:[62]}),s[63]||(s[63]=t("code",{class:"text-sm"},"/translations/by-id/{id}",-1))]),s[64]||(s[64]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Delete a translation",-1))]),t("div",ht,[t("div",Dt,[a(d,{color:"purple",variant:"soft",size:"xs"},{default:n(()=>s[65]||(s[65]=[e("POST",-1)])),_:1,__:[65]}),s[66]||(s[66]=t("code",{class:"text-sm"},"/translations/bulk",-1))]),s[67]||(s[67]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Bulk update multiple translations",-1))]),t("div",kt,[t("div",St,[a(d,{color:"blue",variant:"soft",size:"xs"},{default:n(()=>s[68]||(s[68]=[e("GET",-1)])),_:1,__:[68]}),s[69]||(s[69]=t("code",{class:"text-sm"},"/translations/languages",-1))]),s[70]||(s[70]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Get supported languages",-1))]),t("div",Lt,[t("div",Et,[a(d,{color:"blue",variant:"soft",size:"xs"},{default:n(()=>s[71]||(s[71]=[e("GET",-1)])),_:1,__:[71]}),s[72]||(s[72]=t("code",{class:"text-sm"},"/translations/models/{model}/{id}",-1))]),s[73]||(s[73]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Get all translations for a model",-1))])])])]),_:1}),a(o,null,{header:n(()=>[t("div",Nt,[a(l,{name:"i-lucide-send",class:"h-5 w-5 text-green-500"}),s[74]||(s[74]=t("span",{class:"font-semibold"},"API Request Examples",-1))])]),default:n(()=>[t("div",At,[t("div",Mt,[s[75]||(s[75]=t("span",{class:"text-xs text-gray-400"},"Create Translation",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[6]||(s[6]=r=>i(`POST /api/translations
Content-Type: application/json

{
  "key": "title",
  "value": "Hola Mundo",
  "model": "post",
  "model_id": 1,
  "language": "es"
}

// Bulk Update Translations
POST /api/translations/bulk
Content-Type: application/json

{
  "model": "post",
  "model_id": 1,
  "language": "es",
  "translations": {
    "title": "Título en Español",
    "content": "Contenido en Español",
    "description": "Descripción en Español"
  }
}

// Get Model Translations
GET /api/translations/models/post/1/es

// List with Filters
GET /api/translations?model=post&model_id=1&page=1&limit=20`,r))}," Copy ")]),s[76]||(s[76]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-purple-400"},"POST"),e(),t("span",{class:"text-green-400"},"/api/translations"),e(`
`),t("span",{class:"text-blue-400"},"Content-Type:"),e(` application/json

{
  `),t("span",{class:"text-blue-400"},'"key"'),e(": "),t("span",{class:"text-green-400"},'"title"'),e(`,
  `),t("span",{class:"text-blue-400"},'"value"'),e(": "),t("span",{class:"text-green-400"},'"Hola Mundo"'),e(`,
  `),t("span",{class:"text-blue-400"},'"model"'),e(": "),t("span",{class:"text-green-400"},'"post"'),e(`,
  `),t("span",{class:"text-blue-400"},'"model_id"'),e(": "),t("span",{class:"text-purple-400"},"1"),e(`,
  `),t("span",{class:"text-blue-400"},'"language"'),e(": "),t("span",{class:"text-green-400"},'"es"'),e(`
}

`),t("span",{class:"text-gray-400"},"// Bulk Update Translations"),e(`
`),t("span",{class:"text-purple-400"},"POST"),e(),t("span",{class:"text-green-400"},"/api/translations/bulk"),e(`
`),t("span",{class:"text-blue-400"},"Content-Type:"),e(` application/json

{
  `),t("span",{class:"text-blue-400"},'"model"'),e(": "),t("span",{class:"text-green-400"},'"post"'),e(`,
  `),t("span",{class:"text-blue-400"},'"model_id"'),e(": "),t("span",{class:"text-purple-400"},"1"),e(`,
  `),t("span",{class:"text-blue-400"},'"language"'),e(": "),t("span",{class:"text-green-400"},'"es"'),e(`,
  `),t("span",{class:"text-blue-400"},'"translations"'),e(`: {
    `),t("span",{class:"text-blue-400"},'"title"'),e(": "),t("span",{class:"text-green-400"},'"Título en Español"'),e(`,
    `),t("span",{class:"text-blue-400"},'"content"'),e(": "),t("span",{class:"text-green-400"},'"Contenido en Español"'),e(`,
    `),t("span",{class:"text-blue-400"},'"description"'),e(": "),t("span",{class:"text-green-400"},'"Descripción en Español"'),e(`
  }
}

`),t("span",{class:"text-gray-400"},"// Get Model Translations"),e(`
`),t("span",{class:"text-purple-400"},"GET"),e(),t("span",{class:"text-green-400"},"/api/translations/models/post/1/es"),e(`

`),t("span",{class:"text-gray-400"},"// List with Filters"),e(`
`),t("span",{class:"text-purple-400"},"GET"),e(),t("span",{class:"text-green-400"},"/api/translations?model=post&model_id=1&page=1&limit=20")])],-1))])]),_:1})])]),t("section",_t,[s[81]||(s[81]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"JSON Response Format",-1)),t("div",Pt,[a(o,null,{header:n(()=>[t("div",It,[a(l,{name:"i-lucide-file-json",class:"h-5 w-5 text-blue-500"}),s[78]||(s[78]=t("span",{class:"font-semibold"},"Translation Field JSON Output",-1))])]),default:n(()=>[t("div",Ft,[t("div",Rt,[s[79]||(s[79]=t("span",{class:"text-xs text-gray-400"},"Adaptive JSON Marshaling",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[7]||(s[7]=r=>i(`// When no translations are loaded (original value only)
{
  "title": "Hello World",
  "content": "This is the original content"
}

// When translations are loaded (translation map)
{
  "title": {
    "es": "Hola Mundo",
    "fr": "Bonjour le Monde",
    "de": "Hallo Welt"
  },
  "content": {
    "es": "Este es el contenido original",
    "fr": "Ceci est le contenu original"
  }
}

// Language-specific API response
GET /api/posts/1?lang=es
{
  "id": 1,
  "title": "Hola Mundo",
  "content": "Este es el contenido original",
  "description": "Descripción original",
  "author_id": 1,
  "published": true
}`,r))}," Copy ")]),s[80]||(s[80]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-gray-400"},"// When no translations are loaded (original value only)"),e(`
{
  `),t("span",{class:"text-blue-400"},'"title"'),e(": "),t("span",{class:"text-green-400"},'"Hello World"'),e(`,
  `),t("span",{class:"text-blue-400"},'"content"'),e(": "),t("span",{class:"text-green-400"},'"This is the original content"'),e(`
}

`),t("span",{class:"text-gray-400"},"// When translations are loaded (translation map)"),e(`
{
  `),t("span",{class:"text-blue-400"},'"title"'),e(`: {
    `),t("span",{class:"text-blue-400"},'"es"'),e(": "),t("span",{class:"text-green-400"},'"Hola Mundo"'),e(`,
    `),t("span",{class:"text-blue-400"},'"fr"'),e(": "),t("span",{class:"text-green-400"},'"Bonjour le Monde"'),e(`,
    `),t("span",{class:"text-blue-400"},'"de"'),e(": "),t("span",{class:"text-green-400"},'"Hallo Welt"'),e(`
  },
  `),t("span",{class:"text-blue-400"},'"content"'),e(`: {
    `),t("span",{class:"text-blue-400"},'"es"'),e(": "),t("span",{class:"text-green-400"},'"Este es el contenido original"'),e(`,
    `),t("span",{class:"text-blue-400"},'"fr"'),e(": "),t("span",{class:"text-green-400"},'"Ceci est le contenu original"'),e(`
  }
}

`),t("span",{class:"text-gray-400"},"// Language-specific API response"),e(`
`),t("span",{class:"text-purple-400"},"GET"),e(),t("span",{class:"text-green-400"},"/api/posts/1?lang=es"),e(`
{
  `),t("span",{class:"text-blue-400"},'"id"'),e(": "),t("span",{class:"text-purple-400"},"1"),e(`,
  `),t("span",{class:"text-blue-400"},'"title"'),e(": "),t("span",{class:"text-green-400"},'"Hola Mundo"'),e(`,
  `),t("span",{class:"text-blue-400"},'"content"'),e(": "),t("span",{class:"text-green-400"},'"Este es el contenido original"'),e(`,
  `),t("span",{class:"text-blue-400"},'"description"'),e(": "),t("span",{class:"text-green-400"},'"Descripción original"'),e(`,
  `),t("span",{class:"text-blue-400"},'"author_id"'),e(": "),t("span",{class:"text-purple-400"},"1"),e(`,
  `),t("span",{class:"text-blue-400"},'"published"'),e(": "),t("span",{class:"text-purple-400"},"true"),e(`
}`)])],-1))])]),_:1})])]),t("section",Ot,[s[88]||(s[88]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Best Practices",-1)),t("div",Gt,[a(p,{color:"green",variant:"soft"},{title:n(()=>s[82]||(s[82]=[e("✅ Do's",-1)])),description:n(()=>s[83]||(s[83]=[t("ul",{class:"list-disc list-inside space-y-1 mt-2"},[t("li",null,"Always provide meaningful original values in your default language"),t("li",null,'Use standard language codes (ISO 639-1) like "en", "es", "fr"'),t("li",null,"Implement fallback logic to handle missing translations gracefully"),t("li",null,"Use bulk operations for updating multiple translations efficiently"),t("li",null,"Implement the Translatable interface for modules with translated fields"),t("li",null,"Load translations only when needed to optimize performance"),t("li",null,"Use transactions when updating multiple translations together")],-1)])),_:1}),a(p,{color:"orange",variant:"soft"},{title:n(()=>s[84]||(s[84]=[e("⚠️ Considerations",-1)])),description:n(()=>s[85]||(s[85]=[t("ul",{class:"list-disc list-inside space-y-1 mt-2"},[t("li",null,"Translation fields store original values in the main table for performance"),t("li",null,"Translations are stored separately and loaded on demand"),t("li",null,"Consider caching strategies for frequently accessed translations"),t("li",null,"Plan your database indexing strategy for translation queries"),t("li",null,"Be mindful of character limits and text expansion in translations")],-1)])),_:1}),a(p,{color:"red",variant:"soft"},{title:n(()=>s[86]||(s[86]=[e("❌ Don'ts",-1)])),description:n(()=>s[87]||(s[87]=[t("ul",{class:"list-disc list-inside space-y-1 mt-2"},[t("li",null,"Don't rely solely on translations without original fallbacks"),t("li",null,"Don't use translation fields for data that doesn't need localization"),t("li",null,"Don't forget to handle cases where translations might be empty"),t("li",null,"Don't load all translations when only specific languages are needed"),t("li",null,"Don't hardcode language codes in your application logic"),t("li",null,"Don't forget to clean up orphaned translations when deleting records")],-1)])),_:1})])]),t("section",null,[s[95]||(s[95]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Advanced Usage",-1)),t("div",Bt,[a(o,null,{header:n(()=>[t("div",Ut,[a(l,{name:"i-lucide-search",class:"h-5 w-5 text-blue-500"}),s[89]||(s[89]=t("span",{class:"font-semibold"},"Querying with Translations",-1))])]),default:n(()=>[t("div",Ht,[t("div",qt,[s[90]||(s[90]=t("span",{class:"text-xs text-gray-400"},"Advanced Query Examples",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[8]||(s[8]=r=>i(`// Search in original values (faster)
var posts []Post
db.Where("title LIKE ?", "%search%").Find(&posts)

// Search in translations (requires join)
db.Joins("LEFT JOIN translations t ON t.model = 'post' AND t.model_id = posts.id").
   Where("t.key = 'title' AND t.language = 'es' AND t.value LIKE ?", "%búsqueda%").
   Find(&posts)

// Get posts with specific translation availability
db.Joins("INNER JOIN translations t ON t.model = 'post' AND t.model_id = posts.id").
   Where("t.language = ?", "es").
   Distinct("posts.*").
   Find(&posts)

// Count translations by language
type LanguageCount struct {
    Language string
    Count    int64
}

var counts []LanguageCount
db.Model(&Translation{}).
   Select("language, count(*) as count").
   Where("model = ?", "post").
   Group("language").
   Find(&counts)`,r))}," Copy ")]),s[91]||(s[91]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-green-400"},"// Search in original values (faster)"),e(`
`),t("span",{class:"text-blue-400"},"var"),e(` posts []Post
db.Where(`),t("span",{class:"text-green-400"},'"title LIKE ?"'),e(", "),t("span",{class:"text-green-400"},'"%search%"'),e(`).Find(&posts)

`),t("span",{class:"text-green-400"},"// Search in translations (requires join)"),e(`
db.Joins(`),t("span",{class:"text-green-400"},`"LEFT JOIN translations t ON t.model = 'post' AND t.model_id = posts.id"`),e(`).
   Where(`),t("span",{class:"text-green-400"},`"t.key = 'title' AND t.language = 'es' AND t.value LIKE ?"`),e(", "),t("span",{class:"text-green-400"},'"%búsqueda%"'),e(`).
   Find(&posts)

`),t("span",{class:"text-green-400"},"// Get posts with specific translation availability"),e(`
db.Joins(`),t("span",{class:"text-green-400"},`"INNER JOIN translations t ON t.model = 'post' AND t.model_id = posts.id"`),e(`).
   Where(`),t("span",{class:"text-green-400"},'"t.language = ?"'),e(", "),t("span",{class:"text-green-400"},'"es"'),e(`).
   Distinct(`),t("span",{class:"text-green-400"},'"posts.*"'),e(`).
   Find(&posts)

`),t("span",{class:"text-green-400"},"// Count translations by language"),e(`
`),t("span",{class:"text-blue-400"},"type"),e(),t("span",{class:"text-yellow-400"},"LanguageCount"),e(),t("span",{class:"text-blue-400"},"struct"),e(` {
    Language `),t("span",{class:"text-purple-400"},"string"),e(`
    Count    `),t("span",{class:"text-purple-400"},"int64"),e(`
}

`),t("span",{class:"text-blue-400"},"var"),e(` counts []LanguageCount
db.Model(&Translation{}).
   Select(`),t("span",{class:"text-green-400"},'"language, count(*) as count"'),e(`).
   Where(`),t("span",{class:"text-green-400"},'"model = ?"'),e(", "),t("span",{class:"text-green-400"},'"post"'),e(`).
   Group(`),t("span",{class:"text-green-400"},'"language"'),e(`).
   Find(&counts)`)])],-1))])]),_:1}),a(o,null,{header:n(()=>[t("div",Wt,[a(l,{name:"i-lucide-database",class:"h-5 w-5 text-green-500"}),s[92]||(s[92]=t("span",{class:"font-semibold"},"Migration and Setup",-1))])]),default:n(()=>[t("div",jt,[t("div",zt,[s[93]||(s[93]=t("span",{class:"text-xs text-gray-400"},"Database Migration",-1)),t("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[9]||(s[9]=r=>{i(`// The Translation module automatically creates this table:
CREATE TABLE translations (
    id SERIAL PRIMARY KEY,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL,
    deleted_at TIMESTAMP,
    \`key\` VARCHAR(255) NOT NULL,
    value TEXT NOT NULL,
    model VARCHAR(255) NOT NULL,
    model_id INTEGER NOT NULL,
    language VARCHAR(5) NOT NULL,
    
    INDEX idx_translation_lookup (\`key\`, model, model_id, language),
    INDEX idx_deleted_at (deleted_at)
);

// Register the translation module in app/init.go
func RegisterModules(deps module.Dependencies) error {
    // Core modules
    translationModule := translation.NewTranslationModule(
        deps.DB, deps.Router, deps.Logger, deps.Emitter, deps.Storage,
    )
    module.RegisterModule("translation", translationModule)
    
    // Your app modules...
    
    return nil
}`,r)})}," Copy ")]),s[94]||(s[94]=t("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[t("code",null,[t("span",{class:"text-green-400"},"// The Translation module automatically creates this table:"),e(`
`),t("span",{class:"text-blue-400"},"CREATE TABLE"),e(` translations (
    id `),t("span",{class:"text-purple-400"},"SERIAL PRIMARY KEY"),e(`,
    created_at `),t("span",{class:"text-purple-400"},"TIMESTAMP NOT NULL"),e(`,
    updated_at `),t("span",{class:"text-purple-400"},"TIMESTAMP NOT NULL"),e(`,
    deleted_at `),t("span",{class:"text-purple-400"},"TIMESTAMP"),e(`,
    `),t("span",{class:"text-green-400"},"`key`"),e(),t("span",{class:"text-purple-400"},"VARCHAR(255) NOT NULL"),e(`,
    value `),t("span",{class:"text-purple-400"},"TEXT NOT NULL"),e(`,
    model `),t("span",{class:"text-purple-400"},"VARCHAR(255) NOT NULL"),e(`,
    model_id `),t("span",{class:"text-purple-400"},"INTEGER NOT NULL"),e(`,
    language `),t("span",{class:"text-purple-400"},"VARCHAR(5) NOT NULL"),e(`,
    
    `),t("span",{class:"text-blue-400"},"INDEX"),e(" idx_translation_lookup ("),t("span",{class:"text-green-400"},"`key`"),e(`, model, model_id, language),
    `),t("span",{class:"text-blue-400"},"INDEX"),e(` idx_deleted_at (deleted_at)
);

`),t("span",{class:"text-green-400"},"// Register the translation module in app/init.go"),e(`
`),t("span",{class:"text-blue-400"},"func"),e(),t("span",{class:"text-yellow-400"},"RegisterModules"),e("(deps module.Dependencies) "),t("span",{class:"text-purple-400"},"error"),e(` {
    `),t("span",{class:"text-green-400"},"// Core modules"),e(`
    translationModule := translation.NewTranslationModule(
        deps.DB, deps.Router, deps.Logger, deps.Emitter, deps.Storage,
    )
    module.RegisterModule(`),t("span",{class:"text-green-400"},'"translation"'),e(`, translationModule)
    
    `),t("span",{class:"text-green-400"},"// Your app modules..."),e(`
    
    `),t("span",{class:"text-blue-400"},"return"),e(),t("span",{class:"text-purple-400"},"nil"),e(`
}`)])],-1))])]),_:1})])])])),[[x]])]),_:1})}}});export{Yt as default};
